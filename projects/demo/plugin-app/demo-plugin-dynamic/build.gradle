apply from: "../demo-install/build.gradle"

android {
    defaultConfig {
        applicationId "com.tencent.shadow.dynamic_demo_host"
    }
}

buildscript {
    repositories {
        maven {
            url "http://maven.oa.com/nexus/content/repositories/jcenter"
        }
        maven {
            url "http://maven.oa.com/nexus/content/repositories/google-maven/"
        }
    }

    dependencies {
        classpath 'com.tencent.shadow.core:runtime-debug'
        classpath 'com.tencent.shadow.core:gradle-plugin'
        classpath 'org.javassist:javassist:3.22.0-GA'
    }
}

apply plugin: 'com.tencent.shadow.plugin'


shadow {
    transform {
//        useHostContext = ['abc']
    }

    packagePlugin {

        debug {
            loaderApkName = 'dynamic-loader-apk-debug.apk'
            runtimeApkName = 'dynamic-runtime-apk-debug.apk'
            pluginApkNames = ['demo-plugin-dynamic-debug.apk']
        }

        release {
            loaderApkName = 'dynamic-loader-apk-release.apk'
            runtimeApkName = 'dynamic-runtime-apk-release.apk'
            pluginApkNames = ['demo-plugin-dynamic-release.apk']
        }

        pluginApks = ['demo_main': 'projects/demo/plugin-app/demo-plugin-dynamic']

        loaderApkProjectPath = 'projects/demo/dynamic-loader-apk'

        runtimeApkProjectPath = 'projects/demo/dynamic-runtime-apk'

        version = 4
        compactVersion = [1, 2, 3]
        uuidNickName = "1.1.5"
    }
}